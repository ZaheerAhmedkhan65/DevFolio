<!-- Profile Header -->
<section class="relative pb-16">

    <!-- Top Banner -->
    <div class="w-full h-48 bg-black"></div>

    <!-- Profile Card -->
    <div class="max-w-4xl mx-auto px-4">
        <div class="bg-white rounded-lg shadow-md p-8 relative -mt-24">

            <!-- Profile Image (absolute center) -->
            <div class="absolute left-1/2 -top-16 transform -translate-x-1/2">
                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=200&h=200&q=80"
                    class="w-32 h-32 rounded-full border-4 border-white object-cover shadow-lg">
            </div>

            <!-- Follow + Dropdown -->
            <div class="absolute top-4 right-4 flex items-center space-x-2">
                <%if(user.userId == userProfile.id){%>
                    <a href="/settings" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Edit profile</a>
                <%}else{%>
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
                    Follow
                </button>
            
                <!-- Dropdown Trigger -->
                <div class="relative">
                    <button id="menuBtn" class="text-gray-600 hover:text-black">
                        <i class="fas fa-ellipsis-h text-xl"></i>
                    </button>
            
                    <!-- Dropdown Menu -->
                    <div id="dropdownMenu"
                        class="hidden absolute right-0 mt-2 w-40 bg-white shadow-lg rounded-md border border-gray-200 py-2 z-50">
            
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Message</a>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Report</a>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Block</a>
                    </div>
                </div>
                <%}%>
            </div>


            <!-- Content -->
            <div class="mt-20 text-center">
                <h1 class="text-3xl font-bold text-gray-900">
                    <%= userProfile.username %>
                </h1>
                <p class="text-gray-500 mt-1 mb-3">Full Stack Developer & UI/UX Enthusiast</p>

                <div class="flex justify-center space-x-4 mb-8">
                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">JavaScript</span>
                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Node.js</span>
                    <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">React</span>
                    <span class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm">Python</span>
                </div>

                <!-- Info -->
                <div class="flex justify-center space-x-6 mt-6 text-gray-600">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-birthday-cake"></i>
                        <span>Joined on <%= userProfile.created_at.toLocaleDateString() %></span>
                    </div>

                    <div class="flex items-center space-x-2">
                        <i class="fas fa-envelope"></i>
                        <span>
                            <%= userProfile.email %>
                        </span>
                    </div>

                    <div class="flex items-center space-x-3">
                    <a href="#" class="text-gray-600 hover:text-blue-600"><i class="fab fa-github text-lg"></i></a>
                    <a href="#" class="text-gray-600 hover:text-blue-600"><i class="fab fa-linkedin text-lg"></i></a>
                    <a href="#" class="text-gray-600 hover:text-blue-600"><i class="fab fa-twitter text-lg"></i></a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- Projects Section -->
<section class="py-16 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-gray-900 mb-12">Featured Projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <!-- Project Card 1 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    alt="Project" class="w-full h-48 object-cover">
                <div class="p-6">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="text-xl font-semibold text-gray-900">E-Commerce Platform</h3>
                        <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">Featured</span>
                    </div>
                    <p class="text-gray-600 mb-4">A full-stack e-commerce solution built with Node.js and React</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Node.js</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">React</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">MongoDB</span>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-blue-600 hover:text-blue-800 flex items-center space-x-1">
                            <i class="fas fa-external-link-alt"></i>
                            <span>Live Demo</span>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-gray-800 flex items-center space-x-1">
                            <i class="fab fa-github"></i>
                            <span>Code</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Project Card 2 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    alt="Project" class="w-full h-48 object-cover">
                <div class="p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Task Management App</h3>
                    <p class="text-gray-600 mb-4">A collaborative task management application with real-time updates</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Vue.js</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Express</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Socket.io</span>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-blue-600 hover:text-blue-800 flex items-center space-x-1">
                            <i class="fas fa-external-link-alt"></i>
                            <span>Live Demo</span>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-gray-800 flex items-center space-x-1">
                            <i class="fab fa-github"></i>
                            <span>Code</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Project Card 3 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow">
                <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                    alt="Project" class="w-full h-48 object-cover">
                <div class="p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Weather Dashboard</h3>
                    <p class="text-gray-600 mb-4">Real-time weather application with beautiful data visualizations</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">JavaScript</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">Chart.js</span>
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs">API</span>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-blue-600 hover:text-blue-800 flex items-center space-x-1">
                            <i class="fas fa-external-link-alt"></i>
                            <span>Live Demo</span>
                        </a>
                        <a href="#" class="text-gray-600 hover:text-gray-800 flex items-center space-x-1">
                            <i class="fab fa-github"></i>
                            <span>Code</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const menuBtn = document.getElementById("menuBtn");
    const dropdownMenu = document.getElementById("dropdownMenu");

    menuBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle("hidden");
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", () => {
        dropdownMenu.classList.add("hidden");
    });
</script>
